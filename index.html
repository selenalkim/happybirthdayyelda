<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ä°yi ki DoÄŸdun Yelda!</title>

  <style>
    :root{
      --bg1:#fff8ef; --bg2:#ffe5d1; --ink:#333; --accent:#ff8a3d;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:'Poppins','Arial',sans-serif;
      min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center;
      text-align:center; padding:20px; color:var(--ink);
      background:linear-gradient(160deg,var(--bg1)0%,var(--bg2)100%);
    }
    h1{ color:var(--accent); margin:.25rem 0; font-size:clamp(1.8rem,5vw,3.2rem); }
    h2{ margin:.25rem 0 1rem; max-width:640px; font-weight:normal; }
    .stage{
      position:relative; width:min(85vw,1200px); height:min(70vh,70vw);
      border-radius:18px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,.2);
      background:#eee; margin:10px 0 14px;
    }
    .stage img{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
      opacity:0; transition:opacity 800ms ease-in-out; will-change:opacity;
    }
    .stage img.active{ opacity:1; }
    button{
      background:var(--accent); color:#fff; border:0; border-radius:999px;
      padding:12px 24px; font-weight:600; cursor:pointer; transition:transform .2s,box-shadow .2s,background .2s;
    }
    button:hover{ transform:translateY(-2px); box-shadow:0 6px 15px rgba(0,0,0,.2); background:#ff7320; }
    footer{ margin-top:16px; opacity:.85; font-size:.95rem; }
  </style>
</head>
<body>

  <h1>ðŸŽ‰ Ä°yi ki DoÄŸdun Yelda! ðŸŽ‚</h1>
  <h2>Seninle her anÄ±mÄ±z Ã§ok deÄŸerli, iyi ki varsÄ±n.</h2>

  <!-- Slayt gÃ¶sterisi -->
  <div class="stage" aria-label="FotoÄŸraf slayt gÃ¶sterisi">
    <img id="imgA" alt="Yelda'nÄ±n fotoÄŸrafÄ±">
    <img id="imgB" alt="Yelda'nÄ±n fotoÄŸrafÄ±">
  </div>

  <button id="nextBtn" type="button">SONRAKI RESÄ°M</button>

  <footer>GeniÅŸ Aile - <span id="year"></span></footer>

  <!-- MÃ¼zik -->
  <audio id="bgMusic" autoplay loop>
    <source src="music/happy-birthday.mp3" type="audio/mpeg">
    TarayÄ±cÄ±nÄ±z ses etiketini desteklemiyor.
  </audio>

  <script>
    const SLIDE_MS = 5000;
    const images = [
      "images/yelda-1.jpg",
      "images/yelda-2.jpg",
      "images/yelda-3.jpg",
      "images/yelda-4.jpg",
      "images/yelda-5.jpg"
    ];

    const yearEl = document.getElementById('year');
    yearEl.textContent = new Date().getFullYear();

    const music = document.getElementById('bgMusic');
    document.addEventListener('click', () => { if (music.paused) music.play(); }, { once:true });

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }

    function preload(src){
      const img=new Image();
      img.src=src;
      return img;
    }

    const imgA=document.getElementById('imgA');
    const imgB=document.getElementById('imgB');
    const nextBtn=document.getElementById('nextBtn');

    let queue=shuffle(images.slice());
    let currentSrc=null;
    let isAActive=true;
    let timer=null;

    function getNextSrc(){
      if(queue.length===0)queue=shuffle(images.slice());
      return queue.shift();
    }

    function showNext(){
      const nextSrc=getNextSrc();
      if(images.length>1 && nextSrc===currentSrc)return showNext();
      preload(nextSrc).onload=()=>{
        const active=isAActive?imgA:imgB;
        const idle=isAActive?imgB:imgA;
        idle.src=nextSrc;
        idle.classList.add('active');
        active.classList.remove('active');
        isAActive=!isAActive;
        currentSrc=nextSrc;
      };
    }

    function startAuto(){
      stopAuto();
      timer=setInterval(showNext,SLIDE_MS);
    }
    function stopAuto(){
      if(timer){clearInterval(timer);timer=null;}
    }

    (function init(){
      const first=getNextSrc();
      currentSrc=first;
      imgA.src=first;
      imgA.classList.add('active');
      const second=getNextSrc();
      preload(second).onload=()=>{imgB.src=second;};
      startAuto();
    })();

    nextBtn.addEventListener('click',()=>{showNext();startAuto();});
    const stage=document.querySelector('.stage');
    stage.addEventListener('mouseenter',stopAuto);
    stage.addEventListener('mouseleave',startAuto);
  </script>
</body>
</html>
